# Yatube API

**Yatube API** — учебный проект на Django REST Framework, реализующий функциональность блог-платформы.

## Возможности

- Посты: создание, редактирование, удаление, просмотр;
- Комментарии: к постам, с правами автора;
- Подписки: возможность следить за другими пользователями;
- JWT-аутентификация через djoser.

---

## Установка и запуск

### 1. Клонирование репозитория

```
git clone git@github.com:udjinia-dariy/api_final_yatube.git
cd api_final_yatube
```

### 2. Создать и активировать виртуальную среду

```
python -m venv venv
venv\Scripts\activate
pip install -r requirements.txt
```

### 3. Выполнить миграции

```
cd yatube_api
python manage.py migrate
```

### 4. Запустить сервер

```
python manage.py runserver
```

## API

> Подробное описание API доступно тут [http://localhost/redoc/](Http://localhost:8000/redoc/)

### JWT Token

```
POST /api/v1/jwt/create/
{
  "username": "username",
  "password": "password"
}
```

Ответ:

```
{
  "refresh": "refresh_token",
  "access": "access_token"
}
```

### Посты

| Путь                  | Метод       | Описание                   | Доступ                 | 
|-----------------------|-------------|----------------------------|------------------------|
| `/api/v1/posts/`      | `GET`       | Посмотреть все  посты      | Любой                  |
| `/api/v1/posts/`      | `POST`      | Создать новый пост         | Авторизованный         |
| `/api/v1/posts/{id}/` | `GET`       | Посмотреть конкретный пост | Любой                  |
| `/api/v1/posts/{id}/` | `PUT/PATCH` | Обновить пост              | Авторизованный + Автор |
| `/api/v1/posts/{id}/` | `DELETE`    | Удалить пост               | Авторизованный + Автор |

### Комментарии

| Путь                                     | Метод       | Описание                          | Доступ                 | 
|------------------------------------------|-------------|-----------------------------------|------------------------|
| `/api/v1/posts/{post_id}/comments/`      | `GET`       | Посмотреть все комментарии        | Любой                  |
| `/api/v1/posts/{post_id}/comments/`      | `POST`      | Создать новый комментарий         | Авторизованный         |
| `/api/v1/posts/{post_id}/comments/{id}/` | `GET`       | Посмотреть конкретный комментарий | Любой                  |
| `/api/v1/posts/{post_id}/comments/{id}/` | `PUT/PATCH` | Обновить комментарий              | Авторизованный + Автор |
| `/api/v1/posts/{post_id}/comments/{id}/` | `DELETE`    | Удалить комментарий               | Авторизованный + Автор |

### Подписки

| Путь                   | Метод    | Описание         | Доступ         |
|------------------------|----------|------------------|----------------|
| `/api/v1/follow/`      | `GET`    | Все подписки     | Авторизованный |
| `/api/v1/follow/`      | `POST`   | Новая подписка   | Авторизованный |
| `/api/v1/follow/{id}/` | `DELETE` | Удалить подписку | Авторизованный |
